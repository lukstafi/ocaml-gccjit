<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Result (gccjit.Gccjit.Result)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">gccjit</a> &#x00BB; <a href="../index.html">Gccjit</a> &#x00BB; Result</nav><header class="odoc-preamble"><h1>Module <code><span>Gccjit.Result</span></code></h1></header><div class="odoc-content"><div class="odoc-spec"><div class="spec value anchored" id="val-code"><a href="#val-code" class="anchor"></a><code><span><span class="keyword">val</span> code : <span><a href="../index.html#type-result">result</a> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span>)</span> <span class="xref-unresolved">Ctypes</span>.fn</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span></span></code></div><div class="spec-doc"><p>Locate a given function within the built machine code.</p><ul><li>Functions are looked up by name. For this to succeed, a function with a name matching funcname must have been created on result's context (or a parent context) via a call to <a href="../Function/index.html#val-create"><code>Function.create</code></a> with kind <a href="../Function/index.html#type-function_kind" title="Function.function_kind"><code>Exported</code></a>.</li><li>If such a function is not found, an error will be raised.</li><li>If the function is found, the result is cast to the given Ctypes signature. Care must be taken to pass a signature compatible with that of function being extracted.</li><li>The resulting machine code becomes invalid after <a href="#val-release"><code>release</code></a> is called on the <a href="../index.html#type-result"><code>result</code></a>; attempting to call it after that may lead to a segmentation fault.</li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-global"><a href="#val-global" class="anchor"></a><code><span><span class="keyword">val</span> global : <span><a href="../index.html#type-result">result</a> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <span class="xref-unresolved">Ctypes</span>.typ</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="xref-unresolved">Ctypes</span>.ptr</span></span></code></div><div class="spec-doc"><p>Locate a given global within the built machine code.</p><ul><li>Globals are looked up by name. For this to succeed, a global with a name matching name must have been created on result's context (or a parent context) via a call to <a href="../LValue/index.html#val-global"><code>LValue.global</code></a> with kind <a href="../LValue/index.html#type-global_kind" title="LValue.global_kind"><code>Exported</code></a>.</li><li>If the global is found, the result is cast to the Given <code>Ctypes</code> type.</li><li>This is a pointer to the global, so e.g. for an <code>int</code> this is an <code>int *</code>.</li><li>If such a global is not found, an error will be raised.</li><li>The resulting address becomes invalid after <a href="#val-release"><code>release</code></a> is called on the <a href="../index.html#type-result"><code>result</code></a>; attempting to use it after that may lead to a segmentation fault.</li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-release"><a href="#val-release" class="anchor"></a><code><span><span class="keyword">val</span> release : <span><a href="../index.html#type-result">result</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Once we're done with the code, this unloads the built <code>.so</code> file. This cleans up the result; after calling this, it's no longer valid to use the result, or any code or globals that were obtained by calling <a href="#val-code"><code>code</code></a> or <a href="#val-global"><code>global</code></a> on it.</p></div></div></div></body></html>
