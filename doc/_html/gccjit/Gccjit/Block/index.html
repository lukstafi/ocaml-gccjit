<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Block (gccjit.Gccjit.Block)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">gccjit</a> &#x00BB; <a href="../index.html">Gccjit</a> &#x00BB; Block</nav><header class="odoc-preamble"><h1>Module <code><span>Gccjit.Block</span></code></h1></header><div class="odoc-content"><div class="odoc-spec"><div class="spec value anchored" id="val-create"><a href="#val-create" class="anchor"></a><code><span><span class="keyword">val</span> create : <span><span class="optlabel">?name</span>:string <span class="arrow">&#45;&gt;</span></span> <span><a href="../index.html#type-function_">function_</a> <span class="arrow">&#45;&gt;</span></span> <a href="../index.html#type-block">block</a></span></code></div><div class="spec-doc"><p>Create a block. You can give it a meaningful name, which may show up in dumps of the internal representation, and in error messages.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-parent"><a href="#val-parent" class="anchor"></a><code><span><span class="keyword">val</span> parent : <span><a href="../index.html#type-block">block</a> <span class="arrow">&#45;&gt;</span></span> <a href="../index.html#type-function_">function_</a></span></code></div><div class="spec-doc"><p>Which function is this block within?</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-eval"><a href="#val-eval" class="anchor"></a><code><span><span class="keyword">val</span> eval : <span><span class="optlabel">?loc</span>:<a href="../index.html#type-location">location</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../index.html#type-block">block</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../index.html#type-rvalue">rvalue</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Add evaluation of an <a href="../index.html#type-rvalue"><code>rvalue</code></a>, discarding the result (e.g. a function call that <em>returns</em> void). This is equivalent to this C code:</p><pre class="language-ocaml"><code>(void)expression;</code></pre></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-assign"><a href="#val-assign" class="anchor"></a><code><span><span class="keyword">val</span> assign : <span><span class="optlabel">?loc</span>:<a href="../index.html#type-location">location</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../index.html#type-block">block</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../index.html#type-lvalue">lvalue</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../index.html#type-rvalue">rvalue</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Add evaluation of an <a href="../index.html#type-rvalue"><code>rvalue</code></a>, assigning the result to the given <a href="../index.html#type-lvalue"><code>lvalue</code></a>. This is roughly equivalent to this C code:</p><pre class="language-ocaml"><code>lvalue = rvalue;</code></pre></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-assign_op"><a href="#val-assign_op" class="anchor"></a><code><span><span class="keyword">val</span> assign_op : <span><span class="optlabel">?loc</span>:<a href="../index.html#type-location">location</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../index.html#type-block">block</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../index.html#type-lvalue">lvalue</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../index.html#type-binary_op">binary_op</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../index.html#type-rvalue">rvalue</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Add evaluation of an <a href="../index.html#type-rvalue"><code>rvalue</code></a>, using the result to modify an <a href="../index.html#type-lvalue"><code>lvalue</code></a>. This is analogous to <code>&quot;+=&quot;</code> and friends:</p><pre class="language-ocaml"><code>lvalue += rvalue;
lvalue *= rvalue;
lvalue /= rvalue;
etc</code></pre><p>For example:</p><pre class="language-ocaml"><code>(* &quot;i++&quot; *)
add_assignment_op loop_body i Plus (one ctx int_type)</code></pre></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-comment"><a href="#val-comment" class="anchor"></a><code><span><span class="keyword">val</span> comment : <span><span class="optlabel">?loc</span>:<a href="../index.html#type-location">location</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../index.html#type-block">block</a> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Add a no-op textual comment to the internal representation of the code. It will be optimized away, but will be visible in the dumps seen via <a href="../Context/index.html#type-context_option" title="Context.context_option"><code>Dump_initial_tree</code></a> and <a href="../Context/index.html#type-context_option" title="Context.context_option"><code>Dump_initial_gimple</code></a> and thus may be of use when debugging how your project's internal representation gets converted to the <code>libgccjit</code> IR.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-cond_jump"><a href="#val-cond_jump" class="anchor"></a><code><span><span class="keyword">val</span> cond_jump : <span><span class="optlabel">?loc</span>:<a href="../index.html#type-location">location</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../index.html#type-block">block</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../index.html#type-rvalue">rvalue</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../index.html#type-block">block</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../index.html#type-block">block</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Terminate a block by adding evaluation of an rvalue, branching on the result to the appropriate successor block. This is roughly equivalent to this C code:</p><pre class="language-ocaml"><code>if (boolval)
  goto on_true;
else
  goto on_false;</code></pre></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-jump"><a href="#val-jump" class="anchor"></a><code><span><span class="keyword">val</span> jump : <span><span class="optlabel">?loc</span>:<a href="../index.html#type-location">location</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../index.html#type-block">block</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../index.html#type-block">block</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Terminate a block by adding a jump to the given target block. This is roughly equivalent to this C code:</p><pre class="language-ocaml"><code>goto target;</code></pre></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-return"><a href="#val-return" class="anchor"></a><code><span><span class="keyword">val</span> return : <span><span class="optlabel">?loc</span>:<a href="../index.html#type-location">location</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../index.html#type-block">block</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../index.html#type-rvalue">rvalue</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Terminate a block by adding evaluation of an <a href="../index.html#type-rvalue"><code>rvalue</code></a>, returning the value. This is roughly equivalent to this C code:</p><pre class="language-ocaml"><code>return expression;</code></pre></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-return_void"><a href="#val-return_void" class="anchor"></a><code><span><span class="keyword">val</span> return_void : <span><span class="optlabel">?loc</span>:<a href="../index.html#type-location">location</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../index.html#type-block">block</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Terminate a block by adding a valueless return, for use within a function with <code>void</code> return type. This is equivalent to this C code:</p><pre class="language-ocaml"><code>return;</code></pre></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-to_string"><a href="#val-to_string" class="anchor"></a><code><span><span class="keyword">val</span> to_string : <span><a href="../index.html#type-block">block</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p>Get a human-readable description of this object.</p></div></div></div></body></html>
